
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู ูุงูุชุญูููุงุช</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.30.1/date_fns.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>โจ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู ูุงูุชุญูููุงุช ุงููุชูุฏู</h1>
            <p style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 20px; font-size: 18px;">ุชุญููู ุงูุฃูุฏุงู ูู ุฎูุงู ุงูุจูุงูุงุช ุงูุฐููุฉ</p>
            <nav>
                <button onclick="showSection('dashboard')" class="nav-btn active">ููุญุฉ ุงูุชุญูู</button>
                <button onclick="showSection('add-transaction')" class="nav-btn">ุฅุถุงูุฉ ูุนุงููุฉ</button>
                <button onclick="showSection('transactions')" class="nav-btn">ุงููุนุงููุงุช</button>
                <button onclick="showSection('reports')" class="nav-btn">ุงูุชูุงุฑูุฑ</button>
            </nav>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <h2>ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ</h2>
            
            <!-- Projects Section -->
            <div class="projects-section">
                <div class="section-header">
                    <h3>ูุดุงุฑูุนู</h3>
                    <button onclick="openAddProjectModal()" class="add-project-btn">
                        <span>+</span> ุฅุถุงูุฉ ูุดุฑูุน ุฌุฏูุฏ
                    </button>
                </div>
                <div id="projects-grid" class="projects-grid">
                    <!-- Projects will be populated dynamically -->
                </div>
            </div>
            
            <!-- KPI Cards -->
            <div class="kpi-grid">
                <div class="kpi-card revenue">
                    <div class="achievement-badge">๐ฐ</div>
                    <h3>ุฅูุฑุงุฏุงุช ูุฐุง ุงูุดูุฑ</h3>
                    <div class="kpi-value" id="current-revenue">0 ุฑูุงู</div>
                    <div class="kpi-change" id="revenue-change">+0%</div>
                    <div class="progress-indicator">
                        <div class="progress-bar" style="width: 75%"></div>
                    </div>
                </div>
                
                <div class="kpi-card profit">
                    <div class="achievement-badge">๐</div>
                    <h3>ุตุงูู ุงูุฑุจุญ</h3>
                    <div class="kpi-value" id="current-profit">0 ุฑูุงู</div>
                    <div class="kpi-change" id="profit-change">+0%</div>
                    <div class="progress-indicator">
                        <div class="progress-bar" style="width: 60%"></div>
                    </div>
                </div>
                
                <div class="kpi-card students">
                    <div class="achievement-badge">๐</div>
                    <h3>ุนุฏุฏ ุงูุทูุงุจ</h3>
                    <div class="kpi-value" id="current-students">0</div>
                    <div class="kpi-change" id="students-change">+0%</div>
                    <div class="progress-indicator">
                        <div class="progress-bar" style="width: 85%"></div>
                    </div>
                </div>
                
                <div class="kpi-card clients">
                    <div class="achievement-badge">๐ฅ</div>
                    <h3>ุนุฏุฏ ุงูุนููุงุก</h3>
                    <div class="kpi-value" id="current-clients">0</div>
                    <div class="kpi-change" id="clients-change">+0%</div>
                    <div class="progress-indicator">
                        <div class="progress-bar" style="width: 75%"></div>
                    </div>
                </div>
                
                <div class="kpi-card forecast">
                    <div class="achievement-badge">๐</div>
                    <h3>ุชููุน ุงูุดูุฑ ุงููุงุฏู</h3>
                    <div class="kpi-value" id="forecast-profit">0 ุฑูุงู</div>
                    <div class="kpi-change" id="forecast-confidence">ุซูุฉ ูุชูุณุทุฉ</div>
                    <div class="progress-indicator">
                        <div class="progress-bar" style="width: 70%"></div>
                    </div>
                </div>
            </div>

            <!-- Charts -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3>ุงูุฅูุฑุงุฏุงุช ูุงูุฃุฑุจุงุญ ุงูุดูุฑูุฉ</h3>
                    <canvas id="revenueChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>ุชูุฒูุน ุงูุฅูุฑุงุฏุงุช ุญุณุจ ุงูุฃุนูุงู</h3>
                    <canvas id="businessChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>ุงูุทูุงุจ ูุงูุนููุงุก ุงูุดูุฑู</h3>
                    <canvas id="clientsChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>ุงููุตุงุฑูู ููุงุจู ุงูุฅูุฑุงุฏุงุช</h3>
                    <canvas id="expensesChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Add Transaction Section -->
        <section id="add-transaction" class="section">
            <h2>ุฅุถุงูุฉ ูุนุงููุฉ ุฌุฏูุฏุฉ</h2>
            <form id="transaction-form" class="form-grid">
                <div class="form-group">
                    <label for="date">ุงูุชุงุฑูุฎ:</label>
                    <input type="datetime-local" id="date" required>
                </div>
                
                <div class="form-group">
                    <label for="business">ุงุณู ุงูุนูู/ุงูุจุฑุงูุฏ:</label>
                    <select id="business" required>
                        <option value="">ุงุฎุชุฑ ุงูุนูู</option>
                        <option value="abayat_shop">ูุญู ุงูุนุจุงูุงุช</option>
                        <option value="courses">ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ</option>
                        <option value="consultation">ุงูุงุณุชุดุงุฑุงุช</option>
                        <option value="other">ุฃุฎุฑู</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="type">ููุน ุงููุนุงููุฉ:</label>
                    <select id="type" required onchange="toggleFields()">
                        <option value="">ุงุฎุชุฑ ุงูููุน</option>
                        <option value="revenue">ุฅูุฑุงุฏุงุช</option>
                        <option value="expense">ูุตุงุฑูู</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="category">ุงููุฆุฉ:</label>
                    <select id="category" required>
                        <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
                        <option value="course">ุฏูุฑุฉ</option>
                        <option value="product">ููุชุฌ</option>
                        <option value="subscription">ุงุดุชุฑุงู</option>
                        <option value="consultation">ุงุณุชุดุงุฑุฉ</option>
                        <option value="marketing">ุชุณููู</option>
                        <option value="supplies">ูุณุชูุฒูุงุช</option>
                        <option value="rent">ุฅูุฌุงุฑ</option>
                        <option value="other">ุฃุฎุฑู</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="amount">ุงููุจูุบ (ุฑูุงู):</label>
                    <input type="number" id="amount" step="0.01" required>
                </div>
                
                <div class="form-group" id="cost-group">
                    <label for="cost">ุงูุชูููุฉ ุงููุจุงุดุฑุฉ (ุฑูุงู):</label>
                    <input type="number" id="cost" step="0.01">
                </div>
                
                <div class="form-group" id="students-group">
                    <label for="students">ุนุฏุฏ ุงูุทูุงุจ:</label>
                    <input type="number" id="students" min="0">
                </div>
                
                <div class="form-group" id="clients-group">
                    <label for="clients">ุนุฏุฏ ุงูุนููุงุก:</label>
                    <input type="number" id="clients" min="0">
                </div>
                
                <div class="form-group full-width">
                    <label for="notes">ููุงุญุธุงุช:</label>
                    <textarea id="notes" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="payment-method">ุทุฑููุฉ ุงูุฏูุน:</label>
                    <select id="payment-method">
                        <option value="cash">ููุฏุงู</option>
                        <option value="bank">ุชุญููู ุจููู</option>
                        <option value="card">ุจุทุงูุฉ</option>
                        <option value="online">ุฏูุน ุฅููุชุฑููู</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn">ุญูุธ ุงููุนุงููุฉ</button>
            </form>
        </section>

        <!-- Transactions Section -->
        <section id="transactions" class="section">
            <h2>ุฌููุน ุงููุนุงููุงุช</h2>
            
            <div class="filters">
                <input type="date" id="filter-start" placeholder="ูู ุชุงุฑูุฎ">
                <input type="date" id="filter-end" placeholder="ุฅูู ุชุงุฑูุฎ">
                <select id="filter-business">
                    <option value="">ุฌููุน ุงูุฃุนูุงู</option>
                    <option value="abayat_shop">ูุญู ุงูุนุจุงูุงุช</option>
                    <option value="courses">ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ</option>
                    <option value="consultation">ุงูุงุณุชุดุงุฑุงุช</option>
                    <option value="other">ุฃุฎุฑู</option>
                </select>
                <select id="filter-type">
                    <option value="">ุฌููุน ุงูุฃููุงุน</option>
                    <option value="revenue">ุฅูุฑุงุฏุงุช</option>
                    <option value="expense">ูุตุงุฑูู</option>
                </select>
                <button onclick="applyFilters()">ุชุทุจูู ุงูููุงุชุฑ</button>
                <button onclick="clearFilters()">ูุณุญ ุงูููุงุชุฑ</button>
            </div>
            
            <div class="table-container">
                <table id="transactions-table">
                    <thead>
                        <tr>
                            <th>ุงูุชุงุฑูุฎ</th>
                            <th>ุงูุนูู</th>
                            <th>ุงูููุน</th>
                            <th>ุงููุฆุฉ</th>
                            <th>ุงููุจูุบ</th>
                            <th>ุงูุทูุงุจ</th>
                            <th>ููุงุญุธุงุช</th>
                            <th>ุฅุฌุฑุงุกุงุช</th>
                        </tr>
                    </thead>
                    <tbody id="transactions-body">
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="reports" class="section">
            <h2>ุงูุชูุงุฑูุฑ ูุงูุชุตุฏูุฑ</h2>
            
            <div class="report-controls">
                <select id="report-period">
                    <option value="monthly">ุชูุฑูุฑ ุดูุฑู</option>
                    <option value="quarterly">ุชูุฑูุฑ ุฑุจุน ุณููู</option>
                    <option value="yearly">ุชูุฑูุฑ ุณููู</option>
                </select>
                
                <select id="report-business">
                    <option value="">ุฌููุน ุงูุฃุนูุงู</option>
                    <option value="abayat_shop">ูุญู ุงูุนุจุงูุงุช</option>
                    <option value="courses">ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ</option>
                    <option value="consultation">ุงูุงุณุชุดุงุฑุงุช</option>
                    <option value="other">ุฃุฎุฑู</option>
                </select>
                
                <button onclick="generateReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
                <button onclick="exportToCSV()">ุชุตุฏูุฑ CSV</button>
            </div>
            
            <div id="report-content" class="report-content">
                <!-- Generated report will appear here -->
            </div>
        </section>
    </div>

    <!-- Add Project Modal -->
    <div id="addProjectModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddProjectModal()">&times;</span>
            <h2>ุฅุถุงูุฉ ูุดุฑูุน ุฌุฏูุฏ</h2>
            <form id="project-form">
                <div class="form-group">
                    <label for="project-name">ุงุณู ุงููุดุฑูุน:</label>
                    <input type="text" id="project-name" required>
                </div>
                <div class="form-group">
                    <label for="project-id">ูุนุฑู ุงููุดุฑูุน (ุจุงูุฅูุฌููุฒูุฉ):</label>
                    <input type="text" id="project-id" required pattern="[a-z_]+" title="ูุฌุจ ุฃู ูุญุชูู ุนูู ุฃุญุฑู ุฅูุฌููุฒูุฉ ุตุบูุฑุฉ ูุดุฑุทุงุช ุณูููุฉ ููุท">
                </div>
                <div class="form-group">
                    <label for="project-description">ูุตู ุงููุดุฑูุน:</label>
                    <textarea id="project-description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="project-color">ููู ุงููุดุฑูุน:</label>
                    <select id="project-color">
                        <option value="#4CAF50">ุฃุฎุถุฑ</option>
                        <option value="#2196F3">ุฃุฒุฑู</option>
                        <option value="#FF9800">ุจุฑุชูุงูู</option>
                        <option value="#9C27B0">ุจููุณุฌู</option>
                        <option value="#F44336">ุฃุญูุฑ</option>
                        <option value="#607D8B">ุฑูุงุฏู</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">ุญูุธ ุงููุดุฑูุน</button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
